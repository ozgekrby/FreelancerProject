<%- include("partials/_header"); %>
<%- include("partials/_navigation"); %>

<div class="tm-page-wrap mx-auto">
    <div class="position-relative">
        <div class="tm-welcome-container tm-fixed-header tm-fixed-header-1">
            <div class="text-center">
                <p class="pt-5 px-3 tm-welcome-text tm-welcome-text-2 mb-1 text-white mx-auto">Background image can be fixed. Content will simply slide over.</p>                	
            </div>                
        </div>

        <!-- Header image -->
        <div id="tm-fixed-header-bg"></div> 
    </div>

    <!-- Page content -->
    <div class="container-fluid">
        <div class="mx-auto tm-content-container">
            <main>
                <div class="row mb-5 pb-4">
                    <div class="col-12">
                        <img src="<%= portfolio.image %>" alt="Image" class="img-fluid tm-catalog-item-img">
                    </div>
                </div>
                <div class="row mb-5 pb-5">
                    <div class="col-xl-8 col-lg-7">
                        <!-- Video description -->
                        <div class="tm-video-description-box">
                            <h2 class="mb-5 tm-video-title"><%= portfolio.title %></h2>
                            <p class="mb-4"><%= portfolio.description %></p>	
                        </div>							
                    </div>
                    <div class="col-xl-4 col-lg-5">
                        <!-- Share box -->
                        <div class="tm-bg-gray tm-share-box">
                            <!-- Button to trigger Modal for Update -->
                            <div class="text-center">
                                <button type="button" class="btn btn-warning text-white p-2 mb-4 tm-btn-animate tm-btn-download tm-icon-download" data-bs-toggle="modal" data-bs-target="#updatePortfolioModal">
                                    <span>Update Details</span>
                                </button>
                            </div>	
                            <!-- Button to trigger Modal for Delete -->
                            <div class="text-center">
                                <button type="button" class="btn btn-danger p-2 tm-btn-animate tm-btn-download tm-icon-download" data-bs-toggle="modal" data-bs-target="#deletePortfolioModal">
                                    <span>Delete Portfolio</span>
                                </button>
                            </div>								
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>

<!-- Modal for Update Portfolio -->
<div class="modal fade" id="updatePortfolioModal" tabindex="-1" aria-labelledby="updatePortfolioModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updatePortfolioModalLabel">Update Portfolio Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="/portfolio/<%= portfolio._id %>?_method=PUT" method="POST">
                    <div class="form-group">
                        <label for="title">Project Title</label>
                        <input type="text" class="form-control" id="title" name="title" value="<%= portfolio.title %>" required>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea class="form-control" id="description" name="description" required><%= portfolio.description %></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-warning text-white">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Delete Portfolio -->
<div class="modal fade" id="deletePortfolioModal" tabindex="-1" aria-labelledby="deletePortfolioModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deletePortfolioModalLabel">Delete Portfolio</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this portfolio?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <a href="/portfolio/<%= portfolio._id %>?_method=DELETE" class="btn btn-danger">Delete</a>
            </div>
        </div>
    </div>
</div>

<%- include("partials/_footer"); %>

</body>
</html>